pytest -rA
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami
plugins: utils-0.0.0, timeout-2.4.0, cocotb-test-0.2.6
collected 20 items

test_konami.py FFFFFFFFFFFFFFFFFFFF                                      [100%]

=================================== FAILURES ===================================
_______________________ test_each[verilator-reset_test] ________________________

test_name = 'reset_test', simulator = 'verilator'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'reset_test', pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/build -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator -Wno-fatal -DVM_TRACE_FST=1 -DVM_TRACE=1 --trace-fst --trace-structs --timescale 1ps/1ps -DVM_TRACE_FST=1 -DVM_TRACE=1 /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
________________ test_each[verilator-sequence_single_test_001] _________________

test_name = 'sequence_single_test_001', simulator = 'verilator'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_001'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/build -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator -Wno-fatal -DVM_TRACE_FST=1 -DVM_TRACE=1 --trace-fst --trace-structs --timescale 1ps/1ps -DVM_TRACE_FST=1 -DVM_TRACE=1 /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
________________ test_each[verilator-sequence_single_test_002] _________________

test_name = 'sequence_single_test_002', simulator = 'verilator'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_002'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/build -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator -Wno-fatal -DVM_TRACE_FST=1 -DVM_TRACE=1 --trace-fst --trace-structs --timescale 1ps/1ps -DVM_TRACE_FST=1 -DVM_TRACE=1 /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
________________ test_each[verilator-sequence_single_test_003] _________________

test_name = 'sequence_single_test_003', simulator = 'verilator'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_003'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/build -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator -Wno-fatal -DVM_TRACE_FST=1 -DVM_TRACE=1 --trace-fst --trace-structs --timescale 1ps/1ps -DVM_TRACE_FST=1 -DVM_TRACE=1 /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
________________ test_each[verilator-sequence_single_test_004] _________________

test_name = 'sequence_single_test_004', simulator = 'verilator'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_004'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/build -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator -Wno-fatal -DVM_TRACE_FST=1 -DVM_TRACE=1 --trace-fst --trace-structs --timescale 1ps/1ps -DVM_TRACE_FST=1 -DVM_TRACE=1 /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
________________ test_each[verilator-sequence_single_test_005] _________________

test_name = 'sequence_single_test_005', simulator = 'verilator'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_005'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/build -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator -Wno-fatal -DVM_TRACE_FST=1 -DVM_TRACE=1 --trace-fst --trace-structs --timescale 1ps/1ps -DVM_TRACE_FST=1 -DVM_TRACE=1 /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
________________ test_each[verilator-sequence_single_test_006] _________________

test_name = 'sequence_single_test_006', simulator = 'verilator'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_006'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/build -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator -Wno-fatal -DVM_TRACE_FST=1 -DVM_TRACE=1 --trace-fst --trace-structs --timescale 1ps/1ps -DVM_TRACE_FST=1 -DVM_TRACE=1 /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
________________ test_each[verilator-sequence_single_test_007] _________________

test_name = 'sequence_single_test_007', simulator = 'verilator'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_007'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/build -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator -Wno-fatal -DVM_TRACE_FST=1 -DVM_TRACE=1 --trace-fst --trace-structs --timescale 1ps/1ps -DVM_TRACE_FST=1 -DVM_TRACE=1 /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
_________________________ test_each[icarus-reset_test] _________________________

test_name = 'reset_test', simulator = 'icarus'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'icarus', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'reset_test', pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process iverilog terminated with error 2

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: iverilog -o /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/reset_test/icarus/konami.vvp -D COCOTB_SIM=1 -g2012 -s konami -DVM_TRACE_FST=1 -DVM_TRACE=1 -s iverilog_dump -f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/reset_test/icarus/timescale.f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/reset_test/icarus/iverilog_dump.v
ERROR    cocotb:simulator.py:266 /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/reset_test/icarus/iverilog_dump.v:7: syntax error
ERROR    cocotb:simulator.py:266 I give up.
__________________ test_each[icarus-sequence_single_test_001] __________________

test_name = 'sequence_single_test_001', simulator = 'icarus'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'icarus', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_001'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process iverilog terminated with error 2

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: iverilog -o /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_001/icarus/konami.vvp -D COCOTB_SIM=1 -g2012 -s konami -DVM_TRACE_FST=1 -DVM_TRACE=1 -s iverilog_dump -f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_001/icarus/timescale.f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_001/icarus/iverilog_dump.v
ERROR    cocotb:simulator.py:266 /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_001/icarus/iverilog_dump.v:7: syntax error
ERROR    cocotb:simulator.py:266 I give up.
__________________ test_each[icarus-sequence_single_test_002] __________________

test_name = 'sequence_single_test_002', simulator = 'icarus'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'icarus', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_002'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process iverilog terminated with error 2

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: iverilog -o /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_002/icarus/konami.vvp -D COCOTB_SIM=1 -g2012 -s konami -DVM_TRACE_FST=1 -DVM_TRACE=1 -s iverilog_dump -f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_002/icarus/timescale.f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_002/icarus/iverilog_dump.v
ERROR    cocotb:simulator.py:266 /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_002/icarus/iverilog_dump.v:7: syntax error
ERROR    cocotb:simulator.py:266 I give up.
__________________ test_each[icarus-sequence_single_test_003] __________________

test_name = 'sequence_single_test_003', simulator = 'icarus'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'icarus', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_003'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process iverilog terminated with error 2

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: iverilog -o /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_003/icarus/konami.vvp -D COCOTB_SIM=1 -g2012 -s konami -DVM_TRACE_FST=1 -DVM_TRACE=1 -s iverilog_dump -f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_003/icarus/timescale.f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_003/icarus/iverilog_dump.v
ERROR    cocotb:simulator.py:266 /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_003/icarus/iverilog_dump.v:7: syntax error
ERROR    cocotb:simulator.py:266 I give up.
__________________ test_each[icarus-sequence_single_test_004] __________________

test_name = 'sequence_single_test_004', simulator = 'icarus'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'icarus', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_004'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process iverilog terminated with error 2

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: iverilog -o /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_004/icarus/konami.vvp -D COCOTB_SIM=1 -g2012 -s konami -DVM_TRACE_FST=1 -DVM_TRACE=1 -s iverilog_dump -f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_004/icarus/timescale.f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_004/icarus/iverilog_dump.v
ERROR    cocotb:simulator.py:266 /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_004/icarus/iverilog_dump.v:7: syntax error
ERROR    cocotb:simulator.py:266 I give up.
__________________ test_each[icarus-sequence_single_test_005] __________________

test_name = 'sequence_single_test_005', simulator = 'icarus'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'icarus', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_005'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process iverilog terminated with error 2

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: iverilog -o /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_005/icarus/konami.vvp -D COCOTB_SIM=1 -g2012 -s konami -DVM_TRACE_FST=1 -DVM_TRACE=1 -s iverilog_dump -f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_005/icarus/timescale.f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_005/icarus/iverilog_dump.v
ERROR    cocotb:simulator.py:266 /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_005/icarus/iverilog_dump.v:7: syntax error
ERROR    cocotb:simulator.py:266 I give up.
__________________ test_each[icarus-sequence_single_test_006] __________________

test_name = 'sequence_single_test_006', simulator = 'icarus'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'icarus', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_006'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process iverilog terminated with error 2

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: iverilog -o /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_006/icarus/konami.vvp -D COCOTB_SIM=1 -g2012 -s konami -DVM_TRACE_FST=1 -DVM_TRACE=1 -s iverilog_dump -f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_006/icarus/timescale.f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_006/icarus/iverilog_dump.v
ERROR    cocotb:simulator.py:266 /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_006/icarus/iverilog_dump.v:7: syntax error
ERROR    cocotb:simulator.py:266 I give up.
__________________ test_each[icarus-sequence_single_test_007] __________________

test_name = 'sequence_single_test_007', simulator = 'icarus'

    @pytest.mark.parametrize("test_name", tests)
    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(0)
    def test_each(test_name, simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['test_name']
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters, testname=test_name)

test_konami.py:52: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'icarus', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = 'sequence_single_test_007'
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process iverilog terminated with error 2

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: iverilog -o /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_007/icarus/konami.vvp -D COCOTB_SIM=1 -g2012 -s konami -DVM_TRACE_FST=1 -DVM_TRACE=1 -s iverilog_dump -f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_007/icarus/timescale.f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_007/icarus/iverilog_dump.v
ERROR    cocotb:simulator.py:266 /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/sequence_single_test_007/icarus/iverilog_dump.v:7: syntax error
ERROR    cocotb:simulator.py:266 I give up.
_____________________________ test_all[verilator] ______________________________

simulator = 'verilator'

    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(8)
    def test_all(simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters)

test_konami.py:60: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = None, pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/build -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator -Wno-fatal -DVM_TRACE_FST=1 -DVM_TRACE=1 --trace-fst --trace-structs --timescale 1ps/1ps -DVM_TRACE_FST=1 -DVM_TRACE=1 /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
_______________________________ test_all[icarus] _______________________________

simulator = 'icarus'

    @pytest.mark.parametrize("simulator", ["verilator", "icarus"])
    @max_score(8)
    def test_all(simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['simulator']
>       runner(simulator, timescale, tbpath, parameters)

test_konami.py:60: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'icarus', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], testname = None, pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def runner(simulator, timescale, tbpath, params, defs=[], testname=None, pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
        """Run the simulator on test n, with parameters params, and defines
        defs. If n is none, it will run all tests"""
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        if(testname is None):
            testdir = "all"
        else:
            testdir=testname
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
    
        sources = get_sources(root, tbpath)
        for s in sources:
            assert os.path.isfile(s), f"Error! File {s} does not exist.\
            \n If this error is unexpected, and occurs on Gradescope:\
            \n\t 1. Ensure the file is in Git.\
            \n\t 2. If it is an 'imported' module, put the file in the imports directory."
    
        work_dir = os.path.join(tbpath, "run", testdir, get_param_string(params), simulator)
        build_dir = os.path.join(tbpath, "build", get_param_string(params))
    
        # Icarus doesn't build, it just runs.
        if simulator.startswith("icarus"):
            build_dir = work_dir
    
        if simulator.startswith("verilator"):
            compile_args=["-Wno-fatal", "-DVM_TRACE_FST=1", "-DVM_TRACE=1"]
            plus_args = ["--trace", "--trace-fst"]
            if(not os.path.exists(work_dir)):
                os.makedirs(work_dir)
        else:
            compile_args=[]
            plus_args = []
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            plus_args=plus_args,
            sim_build=build_dir,
            timescale=timescale,
            parameters=params,
            defines=defs + ["VM_TRACE_FST=1", "VM_TRACE=1"],
            work_dir=work_dir,
            waves=True,
            testcase=testname)
E       SystemExit: Process iverilog terminated with error 2

../../util/utilities.py:77: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: iverilog -o /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/all/icarus/konami.vvp -D COCOTB_SIM=1 -g2012 -s konami -DVM_TRACE_FST=1 -DVM_TRACE=1 -s iverilog_dump -f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/all/icarus/timescale.f /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/all/icarus/iverilog_dump.v
ERROR    cocotb:simulator.py:266 /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/run/all/icarus/iverilog_dump.v:7: syntax error
ERROR    cocotb:simulator.py:266 I give up.
_____________________________ test_lint[verilator] _____________________________

simulator = 'verilator'

    @pytest.mark.parametrize("simulator", ["verilator"])
    @max_score(.4)
    def test_lint(simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['simulator']
>       lint(simulator, timescale, tbpath, parameters)

test_konami.py:68: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = [], compile_args = ['--lint-only'], pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def lint(simulator, timescale, tbpath, params, defs=[], compile_args=[], pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
        sources = get_sources(root, tbpath)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        # Create the expected makefile so cocotb-test won't complain.
        sim_build = "lint"
        if(not os.path.exists("lint")):
           os.mkdir("lint")
    
        with open("lint/Vtop.mk", 'w') as fd:
            fd.write("all:")
    
        make_args = ["-n"]
        compile_args += ["--lint-only"]
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            sim_build=sim_build,
            timescale=timescale,
            parameters=params,
            defines=defs,
            make_args=make_args,
            compile_only=True)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:124: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/lint -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator --lint-only --timescale 1ps/1ps /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
____________________________ test_style[verilator] _____________________________

simulator = 'verilator'

    @pytest.mark.parametrize("simulator", ["verilator"])
    @max_score(.1)
    def test_style(simulator):
        # This line must be first
        parameters = dict(locals())
        del parameters['simulator']
>       lint(simulator, timescale, tbpath, parameters, compile_args=["--lint-only", "-Wwarn-style", "-Wno-lint"])

test_konami.py:76: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

simulator = 'verilator', timescale = '1ps/1ps'
tbpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
params = {}, defs = []
compile_args = ['--lint-only', '-Wwarn-style', '-Wno-lint', '--lint-only']
pymodule = 'test_konami'
jsonpath = '/workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami'
jsonname = 'filelist.json'
root = '/workspaces/lab-2-behavioral-verilog-jasonwaseq'

    def lint(simulator, timescale, tbpath, params, defs=[], compile_args=[], pymodule=None, jsonpath=None, jsonname="filelist.json", root=None):
    
        # if json path is none, assume that it is the same as tbpath
        if(jsonpath is None):
            jsonpath = tbpath
    
        assert (os.path.exists(jsonpath)), "jsonpath directory must exist"
        top = get_top(jsonpath, jsonname)
    
    
        # Assume all paths in the json file are relative to the repository root.
        if(root is None):
            root = git.Repo(search_parent_directories=True).working_tree_dir
    
        assert (os.path.exists(root)), "root directory path must exist"
        sources = get_sources(root, tbpath)
    
        # if pymodule is none, assume that the python module name is test+<name of the top module>.
        if(pymodule is None):
            pymodule = "test_" + top
    
        # Create the expected makefile so cocotb-test won't complain.
        sim_build = "lint"
        if(not os.path.exists("lint")):
           os.mkdir("lint")
    
        with open("lint/Vtop.mk", 'w') as fd:
            fd.write("all:")
    
        make_args = ["-n"]
        compile_args += ["--lint-only"]
    
>       run(verilog_sources=sources,
            simulator=simulator,
            toplevel=top,
            module=pymodule,
            compile_args=compile_args,
            sim_build=sim_build,
            timescale=timescale,
            parameters=params,
            defines=defs,
            make_args=make_args,
            compile_only=True)
E       SystemExit: Process perl terminated with error 1

../../util/utilities.py:124: SystemExit
------------------------------ Captured log call -------------------------------
INFO     cocotb:simulator.py:295 Running command: perl /usr/local/bin/verilator -cc --exe -Mdir /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/lint -DCOCOTB_SIM=1 --top-module konami --vpi --public-flat-rw --prefix Vtop -o konami -LDFLAGS -Wl,-rpath,/usr/local/lib/python3.10/dist-packages/cocotb/libs -L/usr/local/lib/python3.10/dist-packages/cocotb/libs -lcocotbvpi_verilator --lint-only -Wwarn-style -Wno-lint --lint-only --timescale 1ps/1ps /usr/local/lib/python3.10/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv
ERROR    cocotb:simulator.py:266 %Error: /workspaces/lab-2-behavioral-verilog-jasonwaseq/part3/konami/konami.sv:148:52: syntax error, unexpected end of file
ERROR    cocotb:simulator.py:266   148 |   assign cheat_code_unlocked_o = (state_r == START);
ERROR    cocotb:simulator.py:266       |                                                    ^
ERROR    cocotb:simulator.py:266 %Error: Cannot continue
=========================== short test summary info ============================
FAILED test_konami.py::test_each[verilator-reset_test] - SystemExit: Process ...
FAILED test_konami.py::test_each[verilator-sequence_single_test_001] - System...
FAILED test_konami.py::test_each[verilator-sequence_single_test_002] - System...
FAILED test_konami.py::test_each[verilator-sequence_single_test_003] - System...
FAILED test_konami.py::test_each[verilator-sequence_single_test_004] - System...
FAILED test_konami.py::test_each[verilator-sequence_single_test_005] - System...
FAILED test_konami.py::test_each[verilator-sequence_single_test_006] - System...
FAILED test_konami.py::test_each[verilator-sequence_single_test_007] - System...
FAILED test_konami.py::test_each[icarus-reset_test] - SystemExit: Process ive...
FAILED test_konami.py::test_each[icarus-sequence_single_test_001] - SystemExi...
FAILED test_konami.py::test_each[icarus-sequence_single_test_002] - SystemExi...
FAILED test_konami.py::test_each[icarus-sequence_single_test_003] - SystemExi...
FAILED test_konami.py::test_each[icarus-sequence_single_test_004] - SystemExi...
FAILED test_konami.py::test_each[icarus-sequence_single_test_005] - SystemExi...
FAILED test_konami.py::test_each[icarus-sequence_single_test_006] - SystemExi...
FAILED test_konami.py::test_each[icarus-sequence_single_test_007] - SystemExi...
FAILED test_konami.py::test_all[verilator] - SystemExit: Process perl termina...
FAILED test_konami.py::test_all[icarus] - SystemExit: Process iverilog termin...
FAILED test_konami.py::test_lint[verilator] - SystemExit: Process perl termin...
FAILED test_konami.py::test_style[verilator] - SystemExit: Process perl termi...
============================== 20 failed in 1.25s ==============================
